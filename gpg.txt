ssh requieservidor@34.175.243.169

crear usuario y meter al grupo sudo:
sudo adduser bgpegarm
sudo usermod -aG sudo bgpegarm
groups bgpegarm
sudo su - bgpegarm #Cambiar usuario
mkdir -p ~/.ssh
chmod 700 ~/.ssh
nano ~/.ssh/authorized_keys
chmod 600 ~/.ssh/authorized_keys

meter en authorized_keys:
nano ~/.ssh/authorized_keys

Listar claves:
gpg --k

Ayuda:
gpg help

Crear claves:
gpg --generate-key

Revocar claves:
gpg --output revocacion.asc --gen-revoke  ID_Key(segunda linea)
Y luego importar a tu anillo o subir al servidor

Exportar claves: (Armor para que sea texto legible)
gpg --export-secret-keys --armor jrequies001@ikasle.ehu.eus > clave_privada.asc

gpg --export --armor jrequies001@ikasle.ehu.eus > clave_publica.asc

Importar claves externas:
gpg --import clave_privada.asc

gpg --import clave_publica.asc

Firmar archivo:
gpg --sign archivo.pdf

Cifrar archivo con clave publica de otro:
gpg --encrypt --recipient "iciordia003@ikasle.ehu.eus" archivo.pdf.gpg

Borrar clave:
gpg --delete-key gbidaguren@gmail.com

Editar confianza:
gpg --edit-key iciordia003@ikasle.ehu.eus
trust

ctrl + c

Firmar clave publica:
gpg --sign-key iciordia003@ikasle.ehu.eus

Ver firma:
gpg --list-sigs gbidaguren@gmail.com

Cifrar simetrico:
gpg --symmetric documento.txt y poniendole

Descifrar simetrico:
gpg (--output documento.txt) --decrypt documento.txt.gpg 

Desencriptar:
gpg --decrypt Cifrado-II.pdf.gpg.gpg > archivo.pdf


Verficar que un commit es de alguien:

gpg --import clave.asc // Clave publica del commit que vamos a verificar


git clone git@github.com:mikel-egana-aranguren/EHU-SGSSI-01.git //Repo del commit a verificar

cd EHU-SGSSI-01 //Mover al repo

git branch -a //Ver las ramas
git switch develop //Cambiar ramas

git show --show-signature 6176ac9c479797c698b153c7750fa3e4421f445d

Como firmar un repo:

mkdir mi-repo
cd mi-repo/
git init
echo "Hola mundo" > README.md
git add README.md


git config --global user.name "Jon Requies"
git config user.email "jrequies001@ikasle.ehu.eus"
git commit -m "Primer commit firmado" -S

#crear repo en github
cd mi-repo/
git remote add origin git@github.com:requies13/mi-repo.git
git remote -v
git push -u origin master


